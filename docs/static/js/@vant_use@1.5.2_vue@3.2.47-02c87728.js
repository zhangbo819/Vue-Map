import{i as f,o as x,c as h,w as k,g as p,p as m,a as y}from"./@vue_runtime-core@3.2.47-3f4c49b0.js";import{r as C,a as c}from"./@vue_reactivity@3.2.47-9d7d88d9.js";function I(r){const n=f(r,null);if(n){const e=p(),{link:i,unlink:t,internalChildren:s}=n;i(e),x(()=>t(e));const a=h(()=>s.indexOf(e));return{parent:n,index:a}}return{parent:null,index:C(-1)}}function v(r){const n=[],e=i=>{Array.isArray(i)&&i.forEach(t=>{var s;y(t)&&(n.push(t),(s=t.component)!=null&&s.subTree&&(n.push(t.component.subTree),e(t.component.subTree.children)),t.children&&e(t.children))})};return e(r),n}var d=(r,n)=>{const e=r.indexOf(n);return e===-1?r.findIndex(i=>n.key!==void 0&&n.key!==null&&i.type===n.type&&i.key===n.key):e};function b(r,n,e){const i=v(r.subTree.children);e.sort((s,a)=>d(i,s.vnode)-d(i,a.vnode));const t=e.map(s=>s.proxy);n.sort((s,a)=>{const u=t.indexOf(s),o=t.indexOf(a);return u-o})}function V(r){const n=c([]),e=c([]),i=p();return{children:n,linkChildren:s=>{m(r,Object.assign({link:o=>{o.proxy&&(e.push(o),n.push(o.proxy),b(i,n,e))},unlink:o=>{const l=e.indexOf(o);n.splice(l,1),e.splice(l,1)},children:n,internalChildren:e},s))}}}var O=Symbol("van-field");function N(r){const n=f(O,null);n&&!n.customValue.value&&(n.customValue.value=r,k(r,()=>{n.resetValidation(),n.validateWithTrigger("onChange")}))}export{N as a,I as b,V as u};
